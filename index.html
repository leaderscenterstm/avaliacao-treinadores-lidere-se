// REMOVA estas linhas do código original (elas estão causando problemas):
// btn.replaceWith(btn.cloneNode(true));
// adminLoginBtn.replaceWith(adminLoginBtn.cloneNode(true));

// SUBSTITUA as funções setupLoginButtons e setupAdminLogin por:
function setupLoginButtons() {
    document.querySelectorAll('.user-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            document.querySelectorAll('.user-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
            
            currentUser = this.getAttribute('data-trainer');
            userRole = 'trainer';
            login();
        });
    });
}

function setupAdminLogin() {
    document.getElementById('admin-login-btn').addEventListener('click', function() {
        const password = document.getElementById('admin-password').value;
        // SENHA DA COORDENAÇÃO: admin123
        if (password === 'admin123') {
            currentUser = 'Coordenação';
            userRole = 'admin';
            login();
        } else {
            alert('Senha incorreta. Tente novamente.');
        }
    });
}

// ADICIONE estas variáveis no início do script, após a declaração de currentUser e userRole:
let classSelect, evaluationContainer, criteriaContainer, saveBtn, weeklyReportBtn, resetBtn;
let generateReportBtn, viewLogsBtn, logsContainer, logFilter, logEntries, mobileMenuBtn, sidebar;

// NO final do DOMContentLoaded, ANTES de setupLoginButtons(), ADICIONE:
// Inicializar todas as variáveis de elementos DOM
classSelect = document.getElementById('class');
evaluationContainer = document.getElementById('evaluation-container');
criteriaContainer = document.getElementById('criteria-container');
saveBtn = document.getElementById('save-btn');
weeklyReportBtn = document.getElementById('weekly-report-btn');
resetBtn = document.getElementById('reset-btn');
generateReportBtn = document.getElementById('generate-report-btn');
viewLogsBtn = document.getElementById('view-logs-btn');
logsContainer = document.getElementById('logs-view');
logFilter = document.getElementById('log-filter');
logEntries = document.getElementById('log-entries');
mobileMenuBtn = document.getElementById('mobile-menu-btn');
sidebar = document.getElementById('sidebar');

// CONFIGURE os event listeners para os botões de forma direta:
// Já existem event listeners configurados no código, mas certifique-se de que
// eles estão sendo atribuídos após a inicialização das variáveis acima
